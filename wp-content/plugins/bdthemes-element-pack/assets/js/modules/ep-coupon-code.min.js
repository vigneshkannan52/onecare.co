!function(t,n){"use strict";var e=function(t,n){var e=t.find(".bdt-coupon-code"),o=Boolean(elementorFrontend.isEditMode()),i=!1;if(e.length){var c=e.data("settings"),r=c.triggerURL;if(1!=c.triggerByAction)new ClipboardJS(c.couponMsgId,{target:function(t){return t.nextElementSibling}}).on("success",(function(t){n(t.trigger).addClass("active"),t.clearSelection(),setTimeout((function(){n(t.trigger).removeClass("active")}),3e3)}));if("style-2"==c.couponLayout&&1==c.triggerByAction)new ClipboardJS(c.couponId,{target:function(t){return t}}).on("success",(function(t){e.find(c.couponId).addClass("active"),t.clearSelection(),setTimeout((function(){e.find(c.couponId).removeClass("active")}),2e3)})),e.on("click",(function(){if(!e.hasClass("active")&&0!=c.triggerAttention){var t=c.triggerInputId;n('[name="'+t.substring(1)+'"]').closest("form").addClass("ep-shake-animation-cc"),setTimeout((function(){n('[name="'+t.substring(1)+'"]').closest("form").removeClass("ep-shake-animation-cc")}),5e3)}}));var a={decodeCoupon:function(t){jQuery.ajax({url:c.adminAjaxURL,type:"post",data:{action:"element_pack_coupon_code",coupon_code:t},success:function(t){n(c.couponId).find(".bdt-coupon-code-text").html(t)},error:function(){n(c.couponId).html("Something wrong, please contact support team.")}})},displayCoupon:function(t){t.addClass("active")},triggerURL:function(t){var n=window.open(t,"_blank");return t&&n.location,!1},formSubmitted:function(){this.displayCoupon(e),!1!==r&&this.triggerURL(r),this.decodeCoupon(c.couponCode),i=!0}};if(e.on("click",(function(){e.hasClass("active")||!0===c.triggerByAction||(a.displayCoupon(e),!1!==r&&setTimeout((function(){a.triggerURL(r)}),2e3))})),!o){var u=c.triggerInputId;n(document).ajaxComplete((function(t,n,e){i||(!1!==u&&!0===c.triggerByAction?e.data.toLowerCase().indexOf(u.substring(1))>=0&&a.formSubmitted():!0===c.triggerByAction&&a.formSubmitted())}))}}};jQuery(window).on("elementor/frontend/init",(function(){elementorFrontend.hooks.addAction("frontend/element_ready/bdt-coupon-code.default",e)}))}(jQuery,window.elementorFrontend);